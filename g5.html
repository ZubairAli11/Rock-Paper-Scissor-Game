<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sty.css">
</head> 
<body>
    <h1 class="hed">Rock Paper Scissor Game</h1><br>
    <button onclick="playgame('rock') 
    "class="item-move"><img src="rock.png" class="move-icon"></button>
    <button onclick="playgame('paper')"class="item-move"><img src="paper.png" class="move-icon"></button>
    <button onclick="playgame('scissor')"class="item-move"><img src="scissor.png" class="move-icon"></button>
    
    <p class="js-result result"></p>
    <p class="js-ok"></p>
    <p class="js-class"></p>
    
    <button onclick="score.win=0;
    score.lose=0;score.tie=0;
    localStorage.removeItem('score') ;reuse();"class="mid"><span></span>Reset Score</button>
    
    <script>
        let score = JSON.parse(localStorage.getItem('score'));
        if(score===null){
            score={
                win:0,
                lose:0,
                tie:0
        };
        } 
        reuse();
        
        

        function playgame(key) {
            const computermove=getmove();
            let result=0;
            if(key==='rock'){
            if (computermove==='rock'){
                result='Tie';
            }
            else if(computermove==='paper'){
                result='lose';
            }
            else if(computermove==='scissor'){
                result='win';
            }
            
            
            }
            else if(key==='scissor'){
                
        
            
            if (computermove==='rock'){
                result='lose';
            }
            else if(computermove==='paper'){
                result='win';
            }
            else if(computermove==='scissor'){
                result='tie';
            }
        }
        
            else if(key==='paper'){
            
            
            if (computermove==='rock'){
                result='win';
            }
            else if(computermove==='paper'){
                result='tie';
            }
            else if(computermove==='scissor'){
                result='lose';
            }
            }
            if(result==='win'){
                score.win += 1;

            }
            else if(result==='lose'){
                score.lose+=1;

            }
            else if(result==='tie'){
                score.tie+=1;

            }
            
           localStorage.setItem('score',JSON.stringify(score));
          reuse();
          document.querySelector('.js-result').
          innerHTML=result;
          document.querySelector('.js-ok').innerHTML=`You chose
          <img src="${key}.png" class="spam">
        
        <img src="${computermove}.png" class="spam"> computer pick`;
       
        
        }
        function reuse(){
         document.querySelector('.js-class')
        .innerHTML=`win:${score.win} , lose:${score.lose} , Tie:${score.tie}`;
        
        }
        

       function getmove(){
            const randomnumber=Math.random();
            let computermove='';
            if(randomnumber>=0 && randomnumber<1/3)
            {
                computermove='rock';}
            else if(randomnumber>=1/3 && randomnumber<2/3)
            {
                computermove='paper';
            }    
            else if(randomnumber>=2/3 && randomnumber<1)
            {
                computermove='scissor';
            }
            console.log(computermove)
        return computermove;
            
       }
     </script>
</body>
</html>